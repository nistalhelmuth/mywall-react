(this["webpackJsonpmywall-react"]=this["webpackJsonpmywall-react"]||[]).push([[0],{108:function(e,t,n){e.exports={formTextArea:"formtextarea_formTextArea__mfNyH"}},109:function(e,t,n){e.exports={form:"commentForm_form__2zrUE"}},110:function(e,t,n){e.exports={main:"main_main__3NTyC"}},111:function(e,t,n){e.exports={formInput:"formInput_formInput__1FuV-"}},112:function(e,t,n){e.exports={app:"app_app__WPEG2"}},225:function(e,t,n){},226:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(54),o=n.n(r),c=n(19),s=n(15),i=n(21),d=Object(i.a)(),u=function(e){d.push(e)},l=n(102),m=n(3),p=n.n(m),b=n(17),f=n(29),j=n(33),h=n(25),O=n(62),g=n.n(O),v=n(1),y=function(e){var t=e.name,n=e.label,a=e.error,r=e.type,o=e.placeholder,c=e.onChange,s=e.value,i=e.handleBlur,d=e.bigStyles;return Object(v.jsxs)("div",{className:d?"".concat(g.a.formInput," ").concat(g.a.big):g.a.formInput,children:[n&&Object(v.jsxs)("label",{children:[n,":",a&&Object(v.jsxs)("span",{children:[" ",a,"* "]})]}),Object(v.jsx)("input",{onBlur:i,name:t,type:r,onChange:c,placeholder:o,value:s,autoFocus:!1,formNoValidate:!0}),!n&&Object(v.jsxs)("label",{children:[a&&Object(v.jsxs)("span",{children:[" ",a,"* "]}),"\xa0"]})]})},x=n(5),_="USER_LOGED_IN",I="USER_LOGED_IN_SUCCEEDED",C="USER_LOGED_IN_FAILED",E="USER_LOGED_OUT",w="USER_REGISTERED",P="USER_REGISTERED_FAILED",S="FETCHED_USER_PROFILE",R="FETCHED_USER_PROFILE_SUCCEEDED",N={id:void 0,name:void 0,token:void 0,authenticated:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:var n=t.payload,a=n.id,r=n.name,o=n.token;return Object(x.a)(Object(x.a)({},e),{},{id:a,name:r,token:o,authenticated:!0});case C:case E:return N;default:return e}},k=n(18),L=n(26),F="FETCHED_ALL_POSTS",T="FETCHED_ALL_POSTS_SUCCEEDED",B="FETCHED_ALL_POSTS_FAILED",A="CREATED_POST",M="CREATED_POST_SUCCEEDED",q="CREATED_POST_FAILED",U="FETCHED_ALL_COMMENTS",z="FETCHED_ALL_COMMENTS_SUCCEEDED",G="FETCHED_ALL_COMMENTS_FAILED",H="COMMENTED_POST",V="COMMENTED_POST_SUCCEEDED",Y="COMMENTED_POST_FAILED",J={loadingPosts:!1,loadingComments:!1,nextPage:!1,currentPage:-1,pageSize:3},W=Object(b.c)({post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(x.a)(Object(x.a)({},e),{},{loadingPosts:!0});case T:var n=t.payload,a=n.nextPage,r=n.currentPage;return Object(x.a)(Object(x.a)({},e),{},{nextPage:a,currentPage:r,loadingPosts:!1});case B:return Object(x.a)(Object(x.a)({},e),{},{loadingPosts:!1});case U:return Object(x.a)(Object(x.a)({},e),{},{loadingComments:!0});case z:case G:return Object(x.a)(Object(x.a)({},e),{},{loadingComments:!1});default:return e}},byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:var n=t.payload,a=n.content,r=n.randomId,o=Object(x.a)(Object(x.a)({},e),{},Object(L.a)({},r,{content:a,commentsById:{},commentsOrder:[]}));return o;case M:var c=t.payload,s=c.id,i=c.randomId,d=c.content,u=c.date_created,l=c.created_by,m=new Date(u),p=Object(x.a)(Object(x.a)({},e),{},Object(L.a)({},i,{id:s,content:d,dateCreated:"".concat(m.getMonth()+1,"/").concat(m.getDate(),"/").concat(m.getFullYear()),created_by:l,commentsById:{},commentsOrder:[]}));return p;case q:var b=t.payload.randomId,f=Object(x.a)({},e);return delete f[b],f;case H:var j=t.payload,h=j.postId,O=j.content,g=j.randomId,v=e[h],y=Object(x.a)(Object(x.a)({},e),{},Object(L.a)({},h,Object(x.a)(Object(x.a)({},v),{},{commentsById:Object(x.a)(Object(L.a)({},g,{content:O}),v.commentsById),commentsOrder:[g].concat(Object(k.a)(v.commentsOrder))})));return y;case V:var _=t.payload,I=_.postId,C=_.content,E=_.createdBy,w=_.dateCreated,P=_.randomId,S=e[I],R=new Date(w),N=Object(x.a)(Object(x.a)({},e),{},Object(L.a)({},I,Object(x.a)(Object(x.a)({},S),{},{commentsById:Object(x.a)(Object(x.a)({},e[I].commentsById),{},Object(L.a)({},P,{content:C,id:I,createdBy:E,dateCreated:"".concat(R.getMonth()+1,"/").concat(R.getDate(),"/").concat(R.getFullYear())}))})));return N;case Y:var D=t.payload,F=D.postId,B=D.randomId,U=e[F];delete U.commentsById[B],U.commentsOrder.shift();var G=Object(x.a)(Object(x.a)({},e),{},Object(L.a)({},F,U));return G;case T:var J=t.payload.allPosts,W=Object(x.a)({},e);return Object.values(J).forEach((function(e){var t=new Date(e.date_created);W[e.id]=Object(x.a)(Object(x.a)(Object(x.a)({},W[e.id]),e),{},{dateCreated:"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear()),commentsById:{},commentsOrder:[]})})),W;case z:var X=t.payload,K=X.allComments,Z=X.postId,Q=e[Z],$={};Object.values(K).forEach((function(e){var t=new Date(e.date_created);$[e.id]=Object(x.a)(Object(x.a)(Object(x.a)({},$[e.id]),e),{},{dateCreated:"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear())})}));var ee=Object.values(K).map((function(e){return e.id})),te=Object(x.a)(Object(x.a)({},e),{},Object(L.a)({},Z,Object(x.a)(Object(x.a)({},Q),{},{commentsById:$,commentsOrder:ee})));return te;default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:var n=t.payload.randomId,a=[n].concat(Object(k.a)(e));return a;case q:var r=Object(k.a)(e);return r.shift(),r;case T:var o=t.payload.allPosts,c=Object.values(o).map((function(e){return e.id}));return[].concat(Object(k.a)(e),Object(k.a)(c));default:return e}}}),X=function(e,t){return e.byId[t]||void 0},K={M:"Male",F:"Female"},Z={profileId:void 0,email:void 0,name:void 0,city:void 0,genre:void 0,dateCreated:void 0,loading:void 0,registerErrors:void 0},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case P:var n=t.payload.error;return Object(x.a)(Object(x.a)({},e),{},{registerErrors:n});case R:var a=t.payload,r=a.profileId,o=a.email,c=a.name,s=a.city,i=a.genre,d=a.dateCreated,u=new Date(d);return{profileId:r,email:o,name:c,city:s,genre:K[i],dateCreated:"".concat(u.getMonth()+1,"/").concat(u.getDate(),"/").concat(u.getFullYear())};default:return e}},$=Object(b.c)({authReducer:D,postReducer:W,userReducer:Q}),ee=function(e){return function(e){return e.token}(e.authReducer)},te=function(e){return function(e){return e.authenticated}(e.authReducer)},ne=function(e){return function(e){return e.id}(e.authReducer)},ae=function(e){return function(e){return e.name}(e.authReducer)},re=function(e){return function(e){return e.post.nextPage}(e.postReducer)},oe=function(e){return function(e){return e.post.currentPage}(e.postReducer)},ce=function(e){return function(e){return e.post.pageSize}(e.postReducer)},se=function(e){return function(e){return e.post.loadingPosts}(e.postReducer)},ie=function(e){return function(e){return e.post.loadingComments}(e.postReducer)},de=function(e){return function(e){return e.order.map((function(t){return X(e,t)}))}(e.postReducer)},ue=function(e,t){return function(e,t){return e.byId[t]?e.byId[t].commentsOrder.map((function(n){return function(e,t,n){return e.byId[t]?e.byId[t].commentsById[n]:void 0}(e,t,n)})):void 0}(e.postReducer,t)},le=function(e){return e.userReducer},me=function(e){return function(e){return e.registerErrors}(e.userReducer)},pe=function(e){var t=e.id,n=e.name,a=e.token;return{type:I,payload:{id:t,name:n,token:a}}},be=function(e){var t=e.error;return{type:C,payload:{error:t}}},fe=function(e){var t=e.error;return{type:P,payload:{error:t}}},je=function(e){var t=e.profileId,n=e.email,a=e.name,r=e.city,o=e.visitors,c=e.genre,s=e.feeling,i=e.dateCreated;return{type:R,payload:{profileId:t,email:n,name:a,city:r,visitors:o,genre:c,feeling:s,dateCreated:i}}},he=n(40),Oe=n.n(he),ge=(p.a.bool,p.a.func.isRequired,h.a().shape({email:h.b().email("Invalid email").required("Required"),password:h.b().required("Required")})),ve=[{name:"Email",id:"email",placeholder:"email",component:y},{name:"Password",id:"password",placeholder:"password",component:y,type:"password"}],ye=Object(b.d)(s.g,Object(c.b)((function(e){return{authId:ne(e),name:ae(e),authorized:te(e),stateErrors:me(e)}}),(function(e){return{doLogin:function(t){e(function(e){var t=e.email,n=e.password;return{type:_,payload:{email:t,password:n}}}({email:t.email,password:t.password}))},doLogout:function(){e({type:E,payload:{}})}}})))((function(e){var t=e.authorized,n=e.history,a=e.doLogin,r=e.stateErrors,o=e.name,c=e.doLogout,s=e.authId;return Object(v.jsxs)("div",{className:Oe.a.header,"data-test":"headerComponent",children:[Object(v.jsx)(f.a,{to:"/",className:Oe.a.logo,children:Object(v.jsx)("img",{src:"assets/logo.png",alt:"headerLogo"})}),t?Object(v.jsxs)("div",{"data-test":"authorizedComponent",className:Oe.a.greedings,children:[Object(v.jsxs)("h3",{children:["Welcome back! ",o]}),Object(v.jsx)("button",{onClick:function(){return n.push("/profile/".concat(s))},children:"Profile "}),Object(v.jsx)("button",{onClick:function(){return c()},children:"Log Out "})]}):Object(v.jsx)(j.a,{"data-test":"unAuthorizedComponent",initialValues:{email:void 0,password:void 0},validationSchema:ge,onSubmit:function(e){a(e)},children:function(e){var t=e.values,a=e.errors,o=e.touched,c=e.handleChange,s=e.handleSubmit,i=e.handleBlur;return Object(v.jsxs)("div",{className:Oe.a.login,children:[Object(v.jsxs)("form",{className:Oe.a.login,onSubmit:s,children:[ve.map((function(e){return Object(v.jsx)(e.component,{handleBlur:i,name:e.id,onChange:c,error:o[e.id]&&(a[e.id]||r&&r[e.id]),options:e.options,placeholder:e.name,type:e.type,value:t[e.id]})})),Object(v.jsx)("button",{type:"submit",children:"Login "})]}),Object(v.jsx)("button",{onClick:function(){return n.push("/register")},children:"Register "})]})}})]})})),xe=n(9),_e=n(10),Ie=n(12),Ce=n(13),Ee=n(108),we=n.n(Ee),Pe=function(e){var t=e.id,n=e.name,a=e.placeholder,r=e.onChange,o=e.value;return Object(v.jsx)("textarea",{id:t,name:n,placeholder:a,onChange:r,value:o,autoFocus:!1,formNoValidate:!0,className:we.a.formTextArea})},Se=n(109),Re=n.n(Se),Ne=function(e){var t=e.onSubmit,n=Object(j.b)({initialValues:{content:""},onSubmit:t});return Object(v.jsxs)("form",{className:Re.a.form,onSubmit:n.handleSubmit,children:[Object(v.jsx)("button",{type:"submit",children:"Comment"}),Object(v.jsx)(Pe,{id:"content",name:"content",placeholder:"Write Something...",onChange:n.handleChange,value:n.values.content})]})},De=n(63),ke=n.n(De),Le=(p.a.string,p.a.string,p.a.shape({id:p.a.number,name:p.a.string}),p.a.number,p.a.string,Object(c.b)((function(e){return{authId:ne(e),authName:ae(e)}}))((function(e){var t=e.content,n=e.dateCreated,a=e.created_by,r=e.authId,o=e.authName;return Object(v.jsxs)("div",{className:ke.a.comment,"data-test":"commentComponent",children:[Object(v.jsx)(f.a,{to:"/profile/".concat(a?a.id:r),children:Object(v.jsx)("img",{src:"assets/defaultProfile.png",alt:"profileImage"})}),Object(v.jsxs)("div",{className:ke.a.content,children:[Object(v.jsx)("p",{className:ke.a.text,children:a?a.name:o}),Object(v.jsx)("p",{children:t}),Object(v.jsx)("p",{children:n})]})]})}))),Fe=n(228),Te=function(e){var t=e.profileId;return{type:F,payload:{profileId:t}}},Be=function(e){var t=e.allPosts,n=e.currentPage,a=e.nextPage;return{type:T,payload:{allPosts:t,currentPage:n,nextPage:a}}},Ae=function(e){var t=e.message;return{type:B,payload:{message:t}}},Me=function(e){var t=e.id,n=e.randomId,a=e.content,r=e.date_created,o=e.created_by;return{type:M,payload:{id:t,content:a,date_created:r,created_by:o,randomId:n}}},qe=function(e){var t=e.randomId,n=e.message;return{type:q,payload:{message:n,randomId:t}}},Ue=function(e){var t=e.allComments,n=e.postId;return{type:z,payload:{allComments:t,postId:n}}},ze=function(e){var t=e.message;return{type:G,payload:{message:t}}},Ge=function(e){var t=e.postId,n=e.randomId,a=e.content,r=e.createdBy,o=e.dateCreated;return{type:V,payload:{postId:t,content:a,randomId:n,createdBy:r,dateCreated:o}}},He=function(e){var t=e.postId,n=e.randomId,a=e.message;return{type:Y,payload:{postId:t,randomId:n,message:a}}},Ve=n(35),Ye=n.n(Ve),Je=(p.a.string,p.a.string,p.a.arrayOf(p.a.shape({id:p.a.number,content:p.a.string,dateCreated:p.a.string,created_by:p.a.shape({id:p.a.number,name:p.a.string})})),p.a.shape({id:p.a.number,name:p.a.string}),p.a.func.isRequired,p.a.bool,p.a.number,p.a.string,p.a.func.isRequired,p.a.number,function(e){Object(Ie.a)(n,e);var t=Object(Ce.a)(n);function n(e){var a;return Object(xe.a)(this,n),(a=t.call(this,e)).state={showComments:!1},a}return Object(_e.a)(n,[{key:"loadComments",value:function(){var e=this.props;(0,e.fetchComments)(e.postId),this.setState({showComments:!0})}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.dateCreated,a=e.comments,r=e.created_by,o=e.createComment,c=e.commentLoading,s=e.authId,i=e.authName,d=this.state.showComments;return Object(v.jsxs)("div",{className:Ye.a.post,"data-test":"postComponent",children:[Object(v.jsx)(f.a,{to:"/profile/".concat(r?r.id:s),children:Object(v.jsx)("img",{src:"assets/defaultProfile.png",alt:"profileImage"})}),Object(v.jsxs)("div",{className:Ye.a.content,children:[Object(v.jsx)("p",{className:Ye.a.text,children:r?r.name:i}),Object(v.jsx)("p",{className:Ye.a.text,children:t}),Object(v.jsx)("p",{children:r?n:"Creating..."}),Object(v.jsxs)("div",{className:Ye.a.footer,children:[!d&&r&&Object(v.jsx)("button",{onClick:this.loadComments.bind(this),children:"View Comments"}),d&&c&&Object(v.jsx)("h3",{className:Ye.a.loading,children:"Loading..."})]}),d&&Object(v.jsxs)(v.Fragment,{children:[s&&Object(v.jsx)(Ne,{onSubmit:o}),a&&a.length?Object(v.jsx)("div",{className:Ye.a.bot,children:a.map((function(e){return Object(v.jsx)(Le,{content:e.content,dateCreated:e.dateCreated,created_by:e.created_by},e.id)}))}):Object(v.jsx)(v.Fragment,{children:!c&&Object(v.jsx)("p",{children:s?"be the first to comment":"No comment to show"})})]})]})]})}}]),n}(a.Component)),We=Object(c.b)((function(e,t){var n=t.postId;return{commentLoading:ie(e),comments:ue(e,n),authId:ne(e),authName:ae(e)}}),(function(e,t){var n=t.postId;return{fetchComments:function(t){e(function(e){var t=e.postId;return{type:U,payload:{postId:t}}}({postId:t}))},createComment:function(t){e(function(e){var t=e.postId,n=e.content;return{type:H,payload:{postId:t,content:n,randomId:Object(Fe.a)()}}}({postId:n,content:t.content}))}}}))(Je),Xe=n(45),Ke=n.n(Xe),Ze=(p.a.arrayOf(p.a.shape({id:p.a.number,content:p.a.string,dateCreated:p.a.string,created_by:p.a.shape({id:p.a.number,name:p.a.string})})),p.a.func.isRequired,p.a.func.isRequired,p.a.bool,p.a.bool,function(e){Object(Ie.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(_e.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchPosts)()}},{key:"render",value:function(){var e=this.props,t=e.posts,n=e.createPost,a=e.enabledPost,r=e.loading,o=e.fetchPosts,c=e.next;return Object(v.jsxs)("div",{className:Ke.a.wall,"data-test":"wallComponent",children:[a&&Object(v.jsx)(j.a,{"data-test":"postFormComponent",initialValues:{content:""},onSubmit:function(e){n(e)},children:function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit;return Object(v.jsxs)("form",{className:Ke.a.form,onSubmit:a,children:[Object(v.jsx)("button",{type:"submit",children:"Post"}),Object(v.jsx)(Pe,{id:"content",name:"content",type:"text",placeholder:"Write something...",onChange:n,value:t.content})]})}}),t&&t.length?Object(v.jsx)(v.Fragment,{children:t.map((function(e){return Object(v.jsx)(We,{postId:e.id,content:e.content,dateCreated:e.dateCreated,comments:e.comments,created_by:e.created_by},e.id)}))}):Object(v.jsx)(v.Fragment,{children:!r&&Object(v.jsx)("p",{"data-test":"postPlaceholderComponent",children:"No posts to display"})}),r?Object(v.jsx)("h3",{className:Ke.a.loading,"data-test":"postLoadingComponent",children:"Loading..."}):Object(v.jsx)(v.Fragment,{children:c&&Object(v.jsx)("button",{className:Ke.a.more,onClick:function(){return o()},children:"more"})})]})}}]),n}(a.Component)),Qe=Object(c.b)((function(e){return{next:re(e)}}),(function(e){return{createPost:function(t){e(function(e){var t=e.content;return{type:A,payload:{content:t,randomId:Object(Fe.a)()}}}({content:t.content}))}}}))(Ze),$e=n(110),et=n.n($e),tt=(p.a.arrayOf(p.a.shape({id:p.a.number,content:p.a.string,dateCreated:p.a.string,created_by:p.a.shape({id:p.a.number,name:p.a.string})})),p.a.bool,p.a.number,p.a.func.isRequired,function(e){Object(Ie.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(_e.a)(n,[{key:"render",value:function(){var e=this.props,t=e.posts,n=e.postLoading,a=e.authId,r=e.fetchAllPost;return Object(v.jsx)("div",{className:et.a.main,"data-test":"mainComponent",children:Object(v.jsx)(Qe,{fetchPosts:r,posts:t,enabledPost:a,loading:n})})}}]),n}(a.Component)),nt=Object(c.b)((function(e){return{postLoading:se(e),posts:de(e),authId:ne(e)}}),(function(e){return{fetchAllPost:function(){e(Te({}))}}}))(tt),at=n(111),rt=n.n(at),ot=function(e){var t=e.name,n=e.label,a=e.error,r=e.type,o=e.placeholder,c=e.onChange,s=e.value,i=e.handleBlur,d=e.bigStyles,u=e.options;return Object(v.jsxs)("div",{className:d?rt.a.formInput:"",children:[n&&Object(v.jsxs)("label",{children:[n,":",a&&Object(v.jsxs)("span",{children:[" ",a,"* "]})]}),Object(v.jsxs)("select",{onBlur:i,name:t,type:r,onChange:c,placeholder:o,value:s,autoFocus:!1,formNoValidate:!0,children:[Object(v.jsx)("option",{}),u.map((function(e){return Object(v.jsx)("option",{value:e.value,children:e.label})}))]})]})},ct=n(64),st=n.n(ct),it=(p.a.func.isRequired,p.a.object,h.a().shape({email:h.b().email("Invalid email").required("Required"),name:h.b().min(2,"Too Short").max(50,"Too Long").required("Required"),city:h.b().min(2,"Too Short").max(50,"Too Long").required("Required"),genre:h.b().required("Required"),password:h.b().min(2,"Too Short").max(50,"Too Long").required("Required"),password2:h.b().required("Required")})),dt=[{name:"Email",id:"email",placeholder:"email",component:y},{name:"Name",id:"name",placeholder:"name",component:y},{name:"City",id:"city",placeholder:"city",component:y},{name:"Genre",id:"genre",placeholder:"genre",type:"options",options:[{label:"Female",value:"F"},{label:"Male",value:"M"}],component:ot},{name:"Password",id:"password",placeholder:"password",component:y,type:"password"},{name:"Check Password",id:"password2",placeholder:"password",component:y,type:"password"}],ut=Object(c.b)((function(e){return{stateErrors:me(e)}}),(function(e){return{doRegister:function(t){e(function(e){var t=e.email,n=e.name,a=e.city,r=e.genre,o=e.password;return{type:w,payload:{email:t,name:n,city:a,genre:r,password:o}}}({email:t.email,name:t.name,city:t.city,genre:t.genre,password:t.password}))}}}))((function(e){var t=e.doRegister,n=e.stateErrors;return Object(v.jsx)("div",{className:st.a.register,children:Object(v.jsx)(j.a,{initialValues:{email:void 0,name:void 0,city:void 0,genre:void 0,password:void 0,password2:void 0},validationSchema:it,validate:function(e){var t={};return e.password!==e.password2&&(t.password2="passwords do not match"),t},onSubmit:function(e){t(e)},children:function(e){var t=e.values,a=e.errors,r=e.touched,o=e.handleChange,c=e.handleSubmit,s=e.handleBlur;return Object(v.jsxs)("form",{onSubmit:c,className:st.a.form,children:[Object(v.jsx)("h1",{children:"You are welcome!"}),Object(v.jsx)("h5",{children:"we are happy to see you"}),Object(v.jsx)("div",{className:st.a.camps,children:dt.map((function(e){return Object(v.jsx)(e.component,{bigStyles:!0,error:r[e.id]&&(a[e.id]||n&&n[e.id]),handleBlur:s,label:e.name,name:e.id,onChange:o,options:e.options,placeholder:e.name,type:e.type,value:t[e.id]})}))}),Object(v.jsx)("button",{type:"submit",children:"Submit"})]})}})})})),lt=n(65),mt=n.n(lt),pt=(p.a.arrayOf(p.a.shape({id:p.a.number,content:p.a.string,dateCreated:p.a.string,created_by:p.a.shape({id:p.a.number,name:p.a.string})})),p.a.bool,p.a.number,p.a.shape({email:p.a.string,name:p.a.string,city:p.a.string,genre:p.a.string,dateCreated:p.a.string}),p.a.shape({params:p.a.shape({profileId:p.a.string})}),function(e){Object(Ie.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(_e.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchProfileInfo)()}},{key:"render",value:function(){var e=this.props,t=e.posts,n=e.fetchAllPostForUser,a=e.postLoading,r=e.userInformation,o=r.email,c=r.name,s=r.city,i=r.genre,d=r.dateCreated,u=e.authId,l=e.match.params.profileId;return Object(v.jsxs)("div",{className:mt.a.profile,"data-test":"profileComponent",children:[Object(v.jsxs)("div",{className:mt.a.information,children:[Object(v.jsx)("img",{src:"assets/defaultProfile.png",alt:"profileImage",className:mt.a.profileImage}),Object(v.jsxs)("p",{children:["mail: ",c]}),Object(v.jsxs)("p",{children:["email: ",o]}),Object(v.jsxs)("p",{children:["city: ",s]}),Object(v.jsxs)("p",{children:["genre: ",i]}),Object(v.jsxs)("p",{children:["date joined: ",d]})]}),Object(v.jsx)(Qe,{fetchPosts:n,posts:t,enabledPost:u===parseInt(l),loading:a})]})}}]),n}(a.Component)),bt=Object(b.d)(s.g,Object(c.b)((function(e){return{postLoading:se(e),posts:de(e),userInformation:le(e),authId:ne(e)}}),(function(e,t){var n=Object.assign({},t);return{fetchAllPostForUser:function(){var t=n.match.params.profileId;e(Te({profileId:t}))},fetchProfileInfo:function(){var t=n.match.params.profileId;e(function(e){var t=e.profileId;return{type:S,payload:{profileId:t}}}({profileId:t}))}}})))(pt),ft=n(112),jt=n.n(ft),ht=[{word:"main",path:"/main",component:nt},{word:"profile",path:"/profile/:profileId",component:bt},{word:"register",path:"/register",component:ut}],Ot=function(){return Object(v.jsxs)("div",{className:jt.a.app,"data-test":"dataComponent",children:[Object(v.jsx)(ye,{}),Object(v.jsxs)(s.d,{children:[ht.map((function(e){var t=e.component;return Object(v.jsx)(s.b,{path:e.path,render:function(){return Object(v.jsx)(t,{})}},e.word)})),Object(v.jsx)(s.a,{to:"/main"})]})]})},gt=n(78),vt=n(113),yt=n.n(vt),xt=n(114),_t=n(11),It=n.n(_t),Ct=n(6),Et="http://localhost:8000",wt=function(e){return new Promise((function(t,n){fetch("".concat(Et,"/users/profile/").concat(e,"/")).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return n(e)}))})).catch((function(e){return n(e)}))}))},Pt=function(e,t,n,a,r){return new Promise((function(o,c){fetch("".concat(Et,"/users/register/"),{headers:{"Content-type":"application/json"},method:"POST",body:JSON.stringify({email:e,name:t,city:n,genre:a,password:r})}).then((function(e){e.ok?e.json().then((function(e){return o(e)})):e.json().then((function(e){return c(e)}))})).catch((function(e){return c(e)}))}))},St=function(e,t){return new Promise((function(n,a){fetch("".concat(Et,"/users/login/"),{headers:{"Content-type":"application/json"},method:"POST",body:JSON.stringify({email:e,password:t})}).then((function(e){e.ok?e.json().then((function(e){return n(e)})):e.json().then((function(e){return a(e)}))})).catch((function(e){return a(e)}))}))},Rt=It.a.mark(Lt),Nt=It.a.mark(Ft),Dt=It.a.mark(Tt),kt=It.a.mark(Bt);function Lt(e){var t,n;return It.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.profileId,a.prev=1,a.next=4,Object(Ct.b)(wt,t);case 4:return n=a.sent,a.next=7,Object(Ct.e)(je({profileId:n.id,email:n.email,name:n.name,city:n.city,visitors:n.visitors,genre:n.genre,feeling:n.feeling,dateCreated:n.date_created}));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(Ct.e)({type:"FETCHED_USER_PROFILE_FAILED",payload:{error:{error:a.t0}.error}});case 13:case"end":return a.stop()}}),Rt,null,[[1,9]])}function Ft(e){var t,n,a,r,o,c,s;return It.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.email,a=t.name,r=t.city,o=t.genre,c=t.password,i.prev=1,i.next=4,Object(Ct.b)(Pt,n,a,r,o,c);case 4:return s=i.sent,i.next=7,Object(Ct.b)(u,"/");case 7:return i.next=9,Object(Ct.e)({type:"USER_REGISTERED_SUCCEEDED",payload:{id:(d={profileId:s.id,email:n,name:a,city:r,genre:o,password:c}).id,name:d.name,email:d.email}});case 9:i.next=15;break;case 11:return i.prev=11,i.t0=i.catch(1),i.next=15,Object(Ct.e)(fe({error:i.t0}));case 15:case"end":return i.stop()}var d}),Nt,null,[[1,11]])}function Tt(e){var t,n,a,r;return It.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.email,a=t.password,o.prev=1,o.next=4,Object(Ct.b)(St,n,a);case 4:return r=o.sent,o.next=7,Object(Ct.e)(pe({id:r.id,token:r.token,name:r.name}));case 7:o.next=13;break;case 9:return o.prev=9,o.t0=o.catch(1),o.next=13,Object(Ct.e)(be({error:{email:o.t0.error}}));case 13:case"end":return o.stop()}}),Dt,null,[[1,9]])}function Bt(){return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ct.g)(S,Lt);case 2:return e.next=4,Object(Ct.g)(w,Ft);case 4:return e.next=6,Object(Ct.g)(_,Tt);case 6:case"end":return e.stop()}}),kt)}var At=Bt,Mt=function(e,t,n){return new Promise((function(a,r){var o=new URL("".concat(Et,"/posts/")),c={profileId:e,limit:t,offset:n};Object.keys(c).forEach((function(e){return c[e]&&o.searchParams.append(e,c[e])})),fetch(o).then((function(e){e.ok?e.json().then((function(e){return a(e)})):e.json().then((function(e){return r(e)}))})).catch((function(e){return r(e)}))}))},qt=function(e){return new Promise((function(t,n){fetch("".concat(Et,"/posts/").concat(e,"/")).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return n(e)}))})).catch((function(e){return n(e)}))}))},Ut=function(e,t){return new Promise((function(n,a){fetch("".concat(Et,"/posts/"),{headers:{Authorization:"Bearer ".concat(e),"Content-type":"application/json"},method:"POST",body:JSON.stringify({content:t})}).then((function(e){e.ok?e.json().then((function(e){return n(e)})):e.json().then((function(e){return a(e)}))})).catch((function(e){return a(e)}))}))},zt=function(e,t,n){return new Promise((function(a,r){fetch("".concat(Et,"/posts/").concat(t,"/"),{headers:{Authorization:"Bearer ".concat(e),"Content-type":"application/json"},method:"POST",body:JSON.stringify({content:n})}).then((function(e){e.ok?e.json().then((function(e){return a(e)})):e.json().then((function(e){return r(e)}))})).catch((function(e){return r(e)}))}))},Gt=It.a.mark(Wt),Ht=It.a.mark(Xt),Vt=It.a.mark(Kt),Yt=It.a.mark(Zt),Jt=It.a.mark(Qt);function Wt(e){var t,n,a,r;return It.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.profileId,o.next=3,Object(Ct.f)(oe);case 3:return n=o.sent,o.next=6,Object(Ct.f)(ce);case 6:return a=o.sent,o.prev=7,o.next=10,Object(Ct.b)(Mt,t,a,n+1);case 10:return r=o.sent,o.next=13,Object(Ct.c)(500);case 13:return o.next=15,Object(Ct.e)(Be({allPosts:r.results,currentPage:n+1,nextPage:null!==r.next}));case 15:o.next=21;break;case 17:return o.prev=17,o.t0=o.catch(7),o.next=21,Object(Ct.e)(Ae({message:o.t0}));case 21:case"end":return o.stop()}}),Gt,null,[[7,17]])}function Xt(e){var t,n;return It.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.postId,a.prev=1,a.next=4,Object(Ct.b)(qt,t);case 4:return n=a.sent,a.next=7,Object(Ct.c)(500);case 7:return a.next=9,Object(Ct.e)(Ue({allComments:n,postId:t}));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,Object(Ct.e)(ze({message:a.t0}));case 15:case"end":return a.stop()}}),Ht,null,[[1,11]])}function Kt(e){var t,n,a,r,o;return It.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.content,a=t.randomId,c.next=3,Object(Ct.f)(ee);case 3:return r=c.sent,c.prev=4,c.next=7,Object(Ct.b)(Ut,r,n);case 7:return o=c.sent,c.next=10,Object(Ct.e)(Me({id:o.id,randomId:a,content:o.content,date_created:o.date_created,created_by:o.created_by}));case 10:c.next=16;break;case 12:return c.prev=12,c.t0=c.catch(4),c.next=16,Object(Ct.e)(qe({randomId:a,message:c.t0}));case 16:case"end":return c.stop()}}),Vt,null,[[4,12]])}function Zt(e){var t,n,a,r,o,c;return It.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,n=t.postId,a=t.content,r=t.randomId,s.next=3,Object(Ct.f)(ee);case 3:return o=s.sent,s.prev=4,s.next=7,Object(Ct.b)(zt,o,n,a);case 7:return c=s.sent,s.next=10,Object(Ct.e)(Ge({postId:n,id:c.id,content:c.content,dateCreated:c.date_created,createdBy:c.created_by,randomId:r}));case 10:s.next=16;break;case 12:return s.prev=12,s.t0=s.catch(4),s.next=16,Object(Ct.e)(He({postId:n,message:s.t0,randomId:r}));case 16:case"end":return s.stop()}}),Yt,null,[[4,12]])}function Qt(){return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ct.g)(F,Wt);case 2:return e.next=4,Object(Ct.g)(U,Xt);case 4:return e.next=6,Object(Ct.g)(A,Kt);case 6:return e.next=8,Object(Ct.g)(H,Zt);case 8:case"end":return e.stop()}}),Jt)}var $t=Qt,en=It.a.mark(tn);function tn(){return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ct.a)([Object(Ct.d)(At),Object(Ct.d)($t)]);case 2:case"end":return e.stop()}}),en)}var nn=tn,an=Object(xt.a)(),rn={key:"root",storage:yt.a,whitelist:["authReducer"]},on=function(){var e=Object(gt.a)(rn,$),t=Object(b.e)(e,Object(b.a)(an)),n=Object(gt.b)(t);return an.run(nn),{store:t,persistor:n}},cn=(n(225),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,229)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))}),sn=on();o.a.render(Object(v.jsx)(c.a,{store:sn.store,children:Object(v.jsx)(l.a,{loading:null,persistor:sn.persistor,children:Object(v.jsx)(s.c,{history:d,children:Object(v.jsx)(Ot,{})})})}),document.getElementById("root")),cn()},35:function(e,t,n){e.exports={post:"post_post__3dfXB",content:"post_content__h2BkW",footer:"post_footer__1K30M",bot:"post_bot__3fWVl"}},40:function(e,t,n){e.exports={header:"header_header__HZ6Fg",logo:"header_logo__3iSgw",greedings:"header_greedings__1YUq6",login:"header_login__1zFFR"}},45:function(e,t,n){e.exports={wall:"wall_wall__1zXmL",loading:"wall_loading__1G0Pv",more:"wall_more__1gFhk",form:"wall_form__1jCAV"}},62:function(e,t,n){e.exports={formInput:"formInput_formInput__3UlXG",big:"formInput_big__haJIS"}},63:function(e,t,n){e.exports={comment:"comment_comment__E4lLg"}},64:function(e,t,n){e.exports={register:"register_register__1d8O4",form:"register_form__31fhn",camps:"register_camps__P94z_",errorMessage:"register_errorMessage__14tM_"}},65:function(e,t,n){e.exports={profile:"profile_profile__38jCY",information:"profile_information__1SAyB",profileImage:"profile_profileImage__3LwRO",friends:"profile_friends__14eNu"}}},[[226,1,2]]]);
//# sourceMappingURL=main.f14606f1.chunk.js.map